{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{287:function(t,s,a){\"use strict\";a.r(s);var n=a(14),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"äº¤æ¥æ–‡æ¡£\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#äº¤æ¥æ–‡æ¡£\"}},[t._v(\"#\")]),t._v(\" äº¤æ¥æ–‡æ¡£\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"é¢„ç®—\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#é¢„ç®—\"}},[t._v(\"#\")]),t._v(\" é¢„ç®—\")]),t._v(\" \"),s(\"p\",[t._v(\"Moudule:rh_account_budget\")]),t._v(\" \"),s(\"p\",[t._v(\"1.\"),s(\"code\",[t._v(\"conf\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",[s(\"code\",[t._v(\"å­˜æ”¾redisé…ç½®æ–‡ä»¶\\n\")])])]),s(\"p\",[t._v(\"2.\"),s(\"code\",[t._v(\"contrlollers\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t==main.py==  class SyncBudgetReport:\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\tRoute:/api/get_crossovered_budget  : é¢„ç®—æ±‡æ€»æƒ…å†µ  è¿”å›:\"),s(\"code\",[t._v(\"json\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\tRoute:/api/get_account_budget_post: é¢„ç®—çŠ¶å†µæ±‡æ€»è¡¨\")]),t._v(\" \"),s(\"p\",[t._v(\"3.\"),s(\"code\",[t._v(\"lib\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t==jwt_utils.py== :å°è£…æ¥å£åŠ å¯†æœºåˆ¶\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" sha256base64\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å¯†é’¥åŠ å¯†ç®—æ³•\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" verify_token\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ ¡éªŒtokenè£…é¥°å™¨\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"â€‹\\t ==redislib.py== ï¼šå°è£…äº†æ‰€æœ‰redisçš„è¿æ¥æ± å’Œæ¥å£\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"ExportRedis\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"insert_redis_queue\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" params_dict\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token triple-quoted-string string\"}},[t._v(\"'''ç”±å·¦å‘å³ğŸ‘‰æ’å…¥List'''\")]),t._v(\"\\n        self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"cursor\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"lpush\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" json\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"dumps\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"params_dict\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"rpop_redis_queue\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token triple-quoted-string string\"}},[t._v(\"'''ä»å³å‘å·¦å¼¹å‡º return []'''\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"cursor\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"rpop\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"range_queue\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"# æŸ¥è¯¢åˆ—è¡¨ä¸­æ‰€æœ‰çš„é”®å€¼\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"cursor\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"lrange\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"queue\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"-\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"1\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n\")])])]),s(\"ol\",{attrs:{start:\"4\"}},[s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"Models\")])]),t._v(\" \"),s(\"p\",[t._v(\"==account_budget_modify.py==:ä¸»è¦åŠŸèƒ½ç‚¹ï¼šè¡¨ï¼š==crossovered.budget.lines==é¢„ç®—æ˜ç»†è¡¨\")]),t._v(\" \"),s(\"p\",[t._v(\"planned_amount  è®¡åˆ’é‡‘é¢ practical_amount å®é™…é‡‘é¢  ==new_practical_amount==  æ ¹æ®practical_amountå®é™…é‡‘é¢writeå›å¡«    balance ä½™é¢ã€‚show_color ï¼šæ§åˆ¶åˆ—è¡¨å˜çº¢\")]),t._v(\" \"),s(\"p\",[t._v(\"done_per å®Œæˆç‡\")]),t._v(\" \"),s(\"p\",[t._v(\"==def _compute_practical_amount== è®¡ç®—å®é™…é‡‘é¢ï¼Œæ ¹æ®åˆ†æè´¦æˆ·æ˜ç»†ä¸­ è¯¥åˆ†æè´¦æˆ·åœ¨æ—¥æœŸåŒºé—´å†…æœ‰çš„\"),s(\"code\",[t._v(\"é¢„ç®—çŠ¶å†µ\")]),t._v(\" è¿›è¡ŒSUMè®¡ç®—\")]),t._v(\" \"),s(\"p\",[t._v(\"==budget_hr_expense.py== ï¼šç»§æ‰¿hr.expense.sheet å¯¹è´¹ç”¨å•æ®è¿›è¡Œé¢„ç®—è¶…æ”¯\"),s(\"code\",[t._v(\"é¢„è­¦å¼¹å‡ºæ¡†\")]),t._v(\",åœ¨do_sumbitå’Œdo_approved å–é¢„ç®—çš„ä½™é¢å’Œå½“å‰åœ¨å¾…æ‰¹å’Œå®Œæˆçš„å•æ®å‘ç”Ÿé¢è¿›è¡Œæ¯”è¾ƒï¼Œ==è¶…çš„æ˜ç»†è¡Œå˜çº¢å¹¶ä¸”å¼¹å‡ºæç¤ºæ¡†==\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"HrExpense\")]),t._v(\"\\nmodule_budget_installed \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ£€æŸ¥é¢„ç®—æ¨¡å—æ˜¯å¦å®‰è£…ï¼Œæœ‰åˆ†æè´¦æˆ·å¿…å¡«\")]),t._v(\"\\nexcess_color  \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è®¡ç®—å­—æ®µ compute_excess_color\")]),t._v(\"\\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"compute_module_budget_installed\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"for\")]),t._v(\" record \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"in\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n            module \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"env\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'ir.module.module'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"sudo\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"search\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'name'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'='\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \\t\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'rh_account_budget'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" record\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"payment_mode \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'own_account'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å±äºæŠ¥é”€ç±»å‹\")]),t._v(\"\\n              \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#  ä¸‹é¢æ ¹æ®æƒ…å†µåˆ†é¢„ç®—å†…/é¢„ç®—å¤–\")]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è‡ªåŠ¨æ‰£æ¬¾\")]),t._v(\"\\n                record\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"module_budget_installed \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"False\")]),t._v(\"\\n     \\n\\t\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\"  compute_excess_color \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ§åˆ¶æ˜ç»†è¡Œå˜çº¢\")]),t._v(\"\\n    \\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" action_to_analytic_formï¼š\"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è·³è½¬åˆ°å¯¹åº”çš„åˆ†æè´¦æˆ·ç•Œé¢\")]),t._v(\"\\n    \\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" edit_expense_line_analytic \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#ä¿®æ”¹åˆ†æè´¦æˆ·ä¸Šanalytic_account_id\")]),t._v(\"\\n        \\n\")])])]),s(\"p\",[t._v(\"==inherit_analytic_account.py== ï¼šå¯¹åˆ†æè´¦æˆ·åŠŸèƒ½ç»§æ‰¿\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\"),s(\"code\",[t._v(\"department_ids\")]),t._v(\"ï¼šéƒ¨é—¨  \"),s(\"code\",[t._v(\"user_ids\")]),t._v(\"ï¼šå‘˜å·¥    \"),s(\"code\",[t._v(\"department_user_ids\")]),t._v(\"ï¼šéƒ¨é—¨ä¸‹çš„å‘˜å·¥\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\tæ ¹æ®éƒ¨é—¨é€‰æ‹©ä¸‹å±å‘˜å·¥å¯è§ï¼Œæˆ–è€…ç›´æ¥é€‰æ‹©å‘˜å·¥ï¼Œé™åˆ¶è®°å½•è§„åˆ™\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\tdef compute_user_ids :è®¡ç®—éƒ¨é—¨çš„å‘˜å·¥\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#é‡å†™åˆ†ç»„å‡½æ•°ã€‚ç”¨æ¥è®¡ç®—é¢„ç®—çš„å®é™…é‡‘é¢ã€å ç”¨é‡‘é¢ã€ä½™é¢\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"read_group\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" domain\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" fields\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" groupby\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" offset\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" limit\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"None\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" orderby\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"False\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" lazy\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"True\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        res \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"super\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"AccountAnalyticAccount\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"read_group\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"domain\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" fields\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" groupby\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" offset\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"offset\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" limit\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"limit\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"\\n                                                             orderby\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"orderby\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" lazy\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"lazy\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"for\")]),t._v(\" r \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"in\")]),t._v(\" res\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n            domain \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" r\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"get\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'__domain'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            records \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"search\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"domain\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n            r\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_planned_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"sum\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"records\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"mapped\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_planned_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"or\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0.0\")]),t._v(\"\\n            r\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"sum\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"records\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"mapped\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"or\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0.0\")]),t._v(\"\\n            r\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_balance'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"sum\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"records\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"mapped\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'budget_balance'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"or\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0.0\")]),t._v(\"\\n            r\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"[\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'occupy_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"]\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"sum\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"records\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"mapped\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'occupy_amount'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"or\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[t._v(\"0.0\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å ç”¨é‡‘é¢\")]),t._v(\"\\n\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"return\")]),t._v(\" res\\n    \\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"summary_analytic_records\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è®¡ç®—è¯¥åˆ†æè´¦æˆ·å…³è”çš„è´¹ç”¨å•æ®çš„å‘ç”Ÿé¢\")]),t._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"click_details_windows\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è·³è½¬æŒ‰é’®ï¼ŒåµŒå¥—ä¸Šé¢çš„æ–¹æ³•ï¼Œæ¯æ¬¡ç‚¹å‡»åˆ é™¤æ—§çºªå½•ï¼Œç”Ÿæˆæ–°çºªå½•ï¼Œç­›é€‰å½“å‰çš„åˆ†æè´¦æˆ·\")]),t._v(\"\\n\")])])]),s(\"p\",[t._v(\"â€‹\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"wizard\")])]),t._v(\" \"),s(\"p\",[t._v(\"ä¸´æ—¶è¡¨æä¾›å‘å¯¼åŠŸèƒ½\")]),t._v(\" \"),s(\"p\",[t._v(\"==wizard_analysis_examine_details.py== åˆ†æè´¦æˆ·ä½¿ç”¨çš„è¯¦æƒ…\")]),t._v(\" \"),s(\"p\",[t._v(\"==wizard_batch_dept_users.py==:æ›´æ–°éƒ¨é—¨ä¸‹çš„å‘˜å·¥\")]),t._v(\" \"),s(\"p\",[t._v(\"==wizard_edit_expense_line_analytic.py==ï¼šä¿®æ”¹åˆ†æè´¦æˆ·æ˜ç»†è¡Œ\")]),t._v(\" \"),s(\"p\",[t._v(\"==wizard_hr_expense_sheet_budget.py==:è´¹ç”¨å®¡æ‰¹å’Œæäº¤ã€‚åˆ¤æ–­æ˜¯å¦è¶…æ”¯é‡‘è¶\")])])]),t._v(\" \"),s(\"h3\",{attrs:{id:\"é‡‘è¶\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#é‡‘è¶\"}},[t._v(\"#\")]),t._v(\" é‡‘è¶\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"Module\")]),t._v(\":rh_kingdee_port\")]),t._v(\" \"),s(\"ol\",[s(\"li\",[s(\"p\",[t._v(\"Data:\"),s(\"code\",[t._v(\"kingdee_ir_corn.xml\")]),t._v(\"ï¼šå®šæ—¶ä»»åŠ¡ï¼š\"),s(\"code\",[t._v(\"è´¹ç”¨å•æ®æ¨é€è´¦æ— å¿§\")]),t._v(\",\"),s(\"code\",[t._v(\"æ”¶ä»˜æ¬¾å•æ®æ¨é€è´¦æ— å¿§\")]),t._v(\",\"),s(\"code\",[t._v(\"å†…éƒ¨è½¬è´¦å•æ®æ¨é€è´¦æ— å¿§\")])]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"kingdee_setting.yml\")]),t._v(\"ï¼šè‡ªåŠ¨åˆ›å»ºé‡‘è¶é…ç½®å‚æ•°\")])])]),t._v(\" \"),s(\"p\",[t._v(\"2.Libï¼š\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t\"),s(\"code\",[t._v(\"redislib.py\")]),t._v(\": def handle_redis_tokenå­˜å‚¨è®¾ç½®tokençš„æœ‰æ•ˆæ—¶é•¿ä¸º4å°æ—¶ï¼Œè¿‡æœŸè‡ªåŠ¨åˆ é™¤\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t3.Models:\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==rh_kingdee_port.py==é›†æˆé‡‘è¶æ‰€æœ‰æ¨¡å‹å’Œæ¥å£\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==rh_kingdee_send_logs.py==ï¼šé‡‘è¶åŒæ­¥æ—¥å¿—\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==account_payment_interface.py==ï¼šé›†æˆæ”¶ä»˜æ¬¾æ¨é€åŠŸèƒ½\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==inhert_hr_sheet.py==ï¼šè´¹ç”¨æ¨é€\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==rh_inherit_company.py==ï¼šè¾“å…¥å…¬å¸åç§°ï¼Œè·å–å¸æ— å¿§å¯¹åº”çš„å®¢æˆ·ç¼–å·ç”¨äºåŒæ­¥æ¥å£\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t==rh_kingdee_category.py==ï¼šé‡‘è¶ç¥¨æ®ç±»å‹å’Œå‡­è¯æ¨¡ç‰ˆå­˜æ”¾çš„æ¨¡å‹è¡¨\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\t\"),s(\"code\",[t._v(\"é‡‘è¶é…ç½®\")]),t._v(\"æ˜¯é€šè¿‡yamlæ–‡ä»¶å¯¼å…¥ç”Ÿæˆçš„\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t4.\"),s(\"code\",[t._v(\"wizard\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tpush_account_sheet_wizard.py ï¼šè´¹ç”¨æ¨é€å‘å¯¼\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tpush_expense_sheet_wizard.pyï¼šæ”¶ä»˜æ¬¾å‘å¯¼\")]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"class\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token class-name\"}},[t._v(\"Kingdee_Port_set\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"models\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"Model\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"test_kingdee_connection\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æµ‹è¯•é“¾æ¥å¹¶å°†tokenä¿å­˜åˆ°rediså½“ä¸­\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"check_redis_token\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ£€æŸ¥tokeèƒ½æœ‰æ•ˆæ€§ï¼Œæœ‰åˆ™è·å–ï¼Œæ— åˆ™é‡æ–°è°ƒç”¨test_kingdee_connection\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"get_kingdee_category\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è·å–ç¥¨æ®ç±»å‹\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"get_account_rule\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è·å–å‡­è¯æ¨¡ç‰ˆ\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"batch_push_documents\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ¨é€å•æ®åˆ°å¸æ— å¿§æ™ºèƒ½è®°è´¦\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"get_report_account\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#è·å–é“¶è¡Œç§‘ç›®\")]),t._v(\"\\n    \\n\")])])]),s(\"h3\",{attrs:{id:\"ç™¾åº¦è¡Œæ”¿ç¼–å—\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#ç™¾åº¦è¡Œæ”¿ç¼–å—\"}},[t._v(\"#\")]),t._v(\" ç™¾åº¦è¡Œæ”¿ç¼–å—\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t1.\"),s(\"code\",[t._v(\"Models\")]),t._v(\":address_maintenance.py\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tè°ƒå–APiæ¥å£ï¼Œåˆ†åˆ«ä¸ºçœã€å¸‚ã€åŒºã€ä¹¡é•‡è¡—é“(ç›®å‰åªæœ‰åŒ—äº¬å’Œä¸Šæµ·)å†™å…¥åç§°å’Œè¡Œæ”¿ç¼–å—\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t2.\"),s(\"code\",[t._v(\"Views\")]),t._v(\":address_import.xml\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\té™åˆ¶åŸæ¨¡å‹çš„åˆ›å»ºä¿®æ”¹\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"çŸ­ä¿¡å¹³å°\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#çŸ­ä¿¡å¹³å°\"}},[t._v(\"#\")]),t._v(\" çŸ­ä¿¡å¹³å°\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t1.\"),s(\"code\",[t._v(\"Models\")]),t._v(\":compressed_link.py\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tå¤§æ±‰ä¸‰é€šçŸ­é“¾æ¥ def set_short_url\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tinherit_workflow_config_settings.py ç»§æ‰¿åŸºç¡€é…ç½®æ¨¡å‹ï¼Œå†™å…¥çŸ­ä¿¡URLï¼Œè´¦å·ã€å¯†ç \")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\\tsend_message.py ï¼šçŸ­ä¿¡æ¨¡ç‰ˆå’Œæ¥å£è°ƒç”¨\")]),t._v(\" \"),s(\"h3\",{attrs:{id:\"è‡ªç”±ç­¾\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#è‡ªç”±ç­¾\"}},[t._v(\"#\")]),t._v(\" è‡ªç”±ç­¾\")]),t._v(\" \"),s(\"p\",[t._v(\"1.\"),s(\"code\",[t._v(\"Models\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t\"),s(\"code\",[t._v(\"Fields\")]),t._v(\":sign_process_id :ç­¾ç½²æµç¨‹IDï¼Œsignatory_idsï¼šç­¾ç½²æ–¹åˆ—è¡¨ï¼Œcurrent_signatory_idï¼šå½“å‰ç­¾ç½²äººï¼Œ\")]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\thistory_signatory_idï¼šå‘èµ·ç­¾ç½²çš„äººï¼ˆç¬¬ä¸€ï¼‰\")]),t._v(\" \"),s(\"ul\",[s(\"li\",[t._v(\"==free_sale.py==:ç”µå­ç­¾çº¦æ·»åŠ ç­¾ç½²æ–¹\")])]),t._v(\" \"),s(\"div\",{staticClass:\"language-python extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-python\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"init_send_sign_msg\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å½“å‰ç­¾ç½²äººå¿…é¡»æ˜¯ä¼ä¸šå½“å‰ç­¾ç½²äººï¼Œåˆå§‹åŒ–ç­¾ç½²çš„ç¯å¢ƒï¼Œ`å¤šç­¾`å¿…é¡»æ³•äººç¡®è®¤çŸ­ä¿¡ï¼Œ`å•ç­¾`æ— éœ€ç¡®è®¤\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" party_partner_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"org_id\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"False\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#ä»£è¡¨ä¼ä¸šç­¾ç½²\")]),t._v(\"\\n        \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" sign_partner_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"!=\")]),t._v(\" legal_person_partner_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å½“å‰ç­¾ç½²äººä¸æ˜¯æ³•äºº\")]),t._v(\"\\n            flag \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token boolean\"}},[t._v(\"True\")]),t._v(\"\\n            \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"if\")]),t._v(\" signing_method \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"==\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'multi_signature'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å¤šç­¾\")]),t._v(\"\\n                party_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"auth_state \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'start_auth'\")]),t._v(\"\\n                result \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" tool\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"send_msg_to_legal_person_for_sign\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"model_str\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" record_id\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" party_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"time_stamp\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\" sign_partner_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n    \"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"else\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),t._v(\"\\n        party_obj\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"auth_state \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'person'\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#ä¸ªäººç­¾ç½²\")]),t._v(\"\\n                                                                \\n\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[t._v(\"def\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"send_sign_msg\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#å‘èµ·ç­¾çº¦è°ƒç”¨eç­¾å®é™é»˜ç­¾ç½²\\t \")]),t._v(\"\\n                   flow_num\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"body_json\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"util\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"util_send_sale_signature\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"data\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"name\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"sign_list\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'sign_free_sale'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"model\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v(\"'free.sale'\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"record_id\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"self\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),s(\"span\",{pre:!0,attrs:{class:\"token builtin\"}},[t._v(\"id\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[t._v(\"#æ„é€ ç­¾ç½²æ–¹åˆ—è¡¨æ‰€éœ€çš„ç¯å¢ƒå˜é‡\")]),t._v(\"\\n        field_list \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\" handler\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\".\")]),t._v(\"find_sign_field_based_on_flow_num\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\"(\")]),t._v(\"flow_num\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"flow_num\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\",\")]),t._v(\"lighthouse\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"lighthouse\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[t._v(\")\")]),t._v(\"\\n        \\n\")])])]),s(\"ul\",[s(\"li\",[s(\"p\",[t._v(\"==def send_sign_msg==ï¼šä¸ºè‡ªç”±ç­¾åˆ†ç±»ä¸ºï¼Œå•ç­¾å’Œå¤šç­¾ï¼Œåœ¨XML contextä¸­é»˜è®¤\"),s(\"code\",[t._v(\"def create_signer\")]),t._v(\"å•ç­¾è‡ªåŠ¨å¸¦å‡ºå½“å‰å…¬å¸çš„å½“å‰ç­¾ç½²äººï¼Œ\"),s(\"code\",[t._v(\"def action_opt_sign_warning\")]),t._v(\"æ²¡æœ‰ç­¾ç½²äººå¼¹å‡ºæé†’ ï¼Œ\"),s(\"code\",[t._v(\"def do_submit\")]),t._v(\"ç›´æ¥åˆ›å»ºç­¾ç½²æ–¹ï¼Œ\"),s(\"code\",[t._v(\"notify_signer_msg\")]),t._v(\":èµ°å®Œå®¡æ‰¹æµå‘é€çŸ­ä¿¡\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"single_sign.py\")]),t._v(\": å­—æ®µï¼šsigning_method ï¼šã€'single_sign':å•ç­¾ï¼Œ'multi_signature':å¤šç­¾ã€‘\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"def create_signer\")]),t._v(\":å•ç­¾è‡ªåŠ¨åˆ›å»ºç­¾ç½²æ–¹åˆ—è¡¨æ–¹æ³•\")]),t._v(\" \"),s(\"p\",[s(\"code\",[t._v(\"def _compute_belong_singer\")]),t._v(\":æ ¹æ®current_signatory_id,åˆ¤æ–­å½“å‰ç­¾ç½²äººå’Œç™»å½•idæ˜¯å¦ä¸€è‡´\")])]),t._v(\" \"),s(\"li\",[s(\"p\",[s(\"code\",[t._v(\"free_sign_popup_reminder.py\")]),t._v(\":ç­¾ç½²æ–¹åˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œå¼¹å‡ºå‘å¯¼çš„wizardæ–¹æ³•\")])])]),t._v(\" \"),s(\"p\",[t._v(\"2.\"),s(\"code\",[t._v(\"Controllers\")])]),t._v(\" \"),s(\"p\",[t._v(\"â€‹\\t==controllers.py==: \"),s(\"code\",[t._v(\"/sign/process/free_sale\")]),t._v(\"è¿™ä¸ªè·¯ç”±æ˜¯ç”¨æ¥è‡ªç”±ç­¾ç½²å›è°ƒï¼Œæ›´æ”¹æœ¬åœ°çš„çŠ¶æ€\")])])}),[],!1,null,null,null);s.default=e.exports}}]);","extractedComments":[]}